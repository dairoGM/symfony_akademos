{% extends 'baseAdmin.html.twig' %}

{% block title %}Perfil {% endblock %}

{% block body %}
    <div class="content-wrapper" style="min-height: 292px;
  margin-left: -1%;
  margin-top: -5%;">

        <section class="content-header">
            <div class="container-fluid">
                <div class="row mb-2">
                    <div class="col-sm-6">
                        <h1>Profile</h1>
                    </div>
                    <div class="col-sm-6">
                        <ol class="breadcrumb float-sm-right">
                            <li class="breadcrumb-item"><a href="#">Home</a></li>
                            <li class="breadcrumb-item active">User Profile</li>
                        </ol>
                    </div>
                </div>
            </div>
        </section>

        <section class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-3">

                        <div class="card card-primary card-outline">
                            <div class="card-body box-profile">
                                <div class="text-center">
                                    <img src="{% if  app.session.get('foto_usuario_autenticado') != null %}{{ app.request.getSchemeAndHttpHost() }}/uploads/images/personas/{{ app.session.get('foto_usuario_autenticado') }}{% else %} /assets/images/usuario.png {% endif %}"
                                         class="img-circle"
                                         style="width: 40px;height: 40px; object-fit: cover">
                                </div>
                                <h3 class="profile-username text-center">{{ app.session.get('nombre_usuario_autenticado') }}</h3>
                                <p class="text-muted text-center">{{ app.session.get('responsabilidad_usuario_autenticado') | upper }}</p>
                                {#                                <ul class="list-group list-group-unbordered mb-3"> #}
                                {#                                    <li class="list-group-item"> #}
                                {#                                        <b>Followers</b> <a class="float-right">1,322</a> #}
                                {#                                    </li> #}
                                {#                                    <li class="list-group-item"> #}
                                {#                                        <b>Following</b> <a class="float-right">543</a> #}
                                {#                                    </li> #}
                                {#                                    <li class="list-group-item"> #}
                                {#                                        <b>Friends</b> <a class="float-right">13,287</a> #}
                                {#                                    </li> #}
                                {#                                </ul> #}
                            </div>

                        </div>


                        <div class="card card-primary">
                            <div class="card-header">
                                <h3 class="card-title">Sobre mí</h3>
                            </div>

                            <div class="card-body">
                                <strong><i class="fas fa-book mr-1"></i> Formación</strong>
                                <p class="text-muted">
                                    {{ app.session.get('grado_cientifico_usuario_autenticado') | default('') }}
                                </p>
                                <hr>
                                <strong><i class="fas fa-map-marker-alt mr-1"></i>Dirección</strong>
                                <p class="text-muted">{{ app.session.get('municipio_usuario_autenticado') | default('') }}
                                    , {{ app.session.get('provincia_usuario_autenticado') | default('') }}</p>
                                <hr>
                                <strong><i class="fas fa-pencil-alt mr-1"></i> Afiliaciones</strong>
                                <p class="text-muted">
                                    {{ app.session.get('afiliaciones_usuario_autenticado') | default('') }}
                                </p>
                                <hr>
                                <strong><i class="far fa-file-alt mr-1"></i> Datos laborales</strong>
                                <p class="text-muted">
                                    {{ app.session.get('nombre_estructura_usuario_autenticado') | default('') }}
                                    , {{ app.session.get('estructura_padre_usuario_autenticado') | default('') }}
                                </p>
                            </div>

                        </div>

                    </div>

                    <div class="col-md-9">
                        {#                        <div class="card"> #}
                        {#                            <div class="card-body"> #}
                        {#                                <div class="tab-content"> #}
                        {#                                    <div id="settings"> #}
                        {#                                        <form class="form-horizontal"> #}
                        {#                                            <div class="form-group row"> #}
                        {#                                                <label for="inputName" class="col-sm-2 col-form-label">Name</label> #}
                        {#                                                <div class="col-sm-10"> #}
                        {#                                                    <input type="email" class="form-control" id="inputName" #}
                        {#                                                           placeholder="Name"> #}
                        {#                                                </div> #}
                        {#                                            </div> #}
                        {#                                            <div class="form-group row"> #}
                        {#                                                <label for="inputEmail" class="col-sm-2 col-form-label">Email</label> #}
                        {#                                                <div class="col-sm-10"> #}
                        {#                                                    <input type="email" class="form-control" id="inputEmail" #}
                        {#                                                           placeholder="Email"> #}
                        {#                                                </div> #}
                        {#                                            </div> #}
                        {#                                            <div class="form-group row"> #}
                        {#                                                <label for="inputName2" class="col-sm-2 col-form-label">Name</label> #}
                        {#                                                <div class="col-sm-10"> #}
                        {#                                                    <input type="text" class="form-control" id="inputName2" #}
                        {#                                                           placeholder="Name"> #}
                        {#                                                </div> #}
                        {#                                            </div> #}
                        {#                                            <div class="form-group row"> #}
                        {#                                                <label for="inputExperience" #}
                        {#                                                       class="col-sm-2 col-form-label">Experience</label> #}
                        {#                                                <div class="col-sm-10"> #}
                        {#                                                <textarea class="form-control" id="inputExperience" #}
                        {#                                                          placeholder="Experience"></textarea> #}
                        {#                                                </div> #}
                        {#                                            </div> #}
                        {#                                            <div class="form-group row"> #}
                        {#                                                <label for="inputSkills" class="col-sm-2 col-form-label">Skills</label> #}
                        {#                                                <div class="col-sm-10"> #}
                        {#                                                    <input type="text" class="form-control" id="inputSkills" #}
                        {#                                                           placeholder="Skills"> #}
                        {#                                                </div> #}
                        {#                                            </div> #}
                        {#                                           #}
                        {#                                            <div class="form-group row"> #}
                        {#                                                <div class="offset-sm-2 col-sm-10"> #}
                        {#                                                    <button type="submit" class="btn btn-danger">Aceptar</button> #}
                        {#                                                </div> #}
                        {#                                            </div> #}
                        {#                                        </form> #}
                        {#                                    </div> #}

                        {#                                </div> #}

                        {#                            </div> #}
                        {#                        </div> #}
                        <section class="content">
                            <div class="container-fluid">
                                <div class="row">

                                    <div class="col-md-12">

                                        <div class="card card-primary">
                                            <div class="card-header">
                                                <h3 class="card-title">Editar información<small> </small></h3>
                                            </div>


                                            <form id="quickForm" novalidate="novalidate">
                                                <div class="card-body">
                                                    <div class="form-group">
                                                        <label for="exampleInputEmail1">Email address</label>
                                                        <input type="email" name="email" class="form-control"
                                                               id="exampleInputEmail1" placeholder="Enter email">
                                                        <span id="exampleInputEmail1-error"
                                                              class="error invalid-feedback" style="display:none;">Entre un valor válido</span>
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="exampleInputPassword1">Password</label>
                                                        <input type="password" name="password" class="form-control"
                                                               id="exampleInputPassword1" placeholder="Password">
                                                        <span id="exampleInputPassword1-error"
                                                              class="error invalid-feedback" style="display:none;">Entre un valor válido</span>
                                                    </div>
                                                </div>
                                                <div class="card-footer">
                                                    <button type="submit" class="btn btn-primary">Submit</button>
                                                </div>
                                            </form>

                                        </div>

                                    </div>


                                    <div class="col-md-6">
                                    </div>

                                </div>

                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </section>

    </div>
{% endblock %}



{% block stylesheets %}{% endblock %}



{% block javascripts %}
    <script>
        $(document).ready(function () {
            // Función de validación
            function validateForm() {
                var isValid = true;

                // Validar el campo de email
                var email = $("#exampleInputEmail1").val();
                if (email === "" || !validateEmail(email)) {
                    isValid = false;
                    $("#exampleInputEmail1").addClass("is-invalid");
                    $("#exampleInputEmail1-error").show();
                } else {
                    $("#exampleInputEmail1").removeClass("is-invalid");
                    $("#exampleInputEmail1-error").hide();
                }

                // Validar el campo de password
                var password = $("#exampleInputPassword1").val();
                if (password === "") {
                    isValid = false;
                    $("#exampleInputPassword1").addClass("is-invalid");
                    $("#exampleInputPassword1-error").show();
                } else {
                    $("#exampleInputPassword1").removeClass("is-invalid");
                    $("#exampleInputPassword1-error").hide();
                }

                return isValid;
            }

            // Enviar el formulario
            $("#quickForm").on('submit', function (event) {
                event.preventDefault(); // Evita el envío del formulario por defecto
                if (validateForm()) {
                    this.submit(); // Solo se envía si es válido
                }
            });

            // Función para validar un email con regex
            function validateEmail(email) {
                var re = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
                return re.test(email);
            }
        });


    </script>
{% endblock %}
